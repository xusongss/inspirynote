
 <center> 蓝牙透传协议 </center >
<!-- toc orderedList:0 depthFrom:1 depthTo:6 -->

* [第一节 链路数据包结构（Base Package）](#第一节-链路数据包结构base-package)
  * [Base Package结构](#base-package结构)
* [第二节 指令传输（TYPE=0x02）](#第二节-指令传输type0x02)
  * [Package基本结构：](#package基本结构)
  * [语音示例](#语音示例)
* [CRC16 使用CRC16-CCITT查表法：](#crc16-使用crc16-ccitt查表法)

<!-- tocstop -->
@import "BaseProtocol.md"
# 第二节 指令传输（TYPE=0x02）
- 本节定义的结构对应第一节DATA部分
## Package基本结构：
```
-------------------------------------
| TYPE VER (1) |  COMMAND (1 BYTE)  |
-------------------------------------
TYPE：四个bit，数据类型，取值audio
VER：四个bit，版本号，当前版本号0x01
COMMAND ：一个字节
```
```
Package := TYPE VER COMMAND

TYPE := audio

VER := ver

COMMAND := audio_N

ver     := 0x01

audio   := 0x01

audio_N  := N

```
## 语音示例
| audio_N | 提示音 |  使用场景|
| ------ | ------ | ------ |
|audio_1|  连接成功 | 连接成功/测试|
|audio_2|请扫码 |准备好了等待付款|
|audio_3|请扫微信支付二维码 |微信支付准备等待扫码|
|audio_4| 请扫支付宝付款二维码|支付宝准备等待扫码|
|audio_5| 扫码成功，正在扣款|扫码成功后发起支付|
|audio_6| 二维码过期，请重新扫码|二维码过期|
|audio_7| 余额不足，请更换银行卡重新扫码|余额不足|
|audio_8| 支付失败，请重新扫码|支付失败|
|audio_9| 支付成功|支付成功|

@import "CRC16-CCITT.md"
